!function(){const e=document.querySelector("#hamburger-link"),t=document.querySelector("#menu-overlay");getComputedStyle(t);const n=document.querySelector("#close");e.addEventListener("click",function(e){e.preventDefault(),t.style.right=0}),n.addEventListener("click",function(e){e.preventDefault(),t.style.right="-200%"}),t.addEventListener("click",e=>{e.target.classList.contains("hidden-menu__item")||n.click()})}(),function(){let e;ymaps.ready(()=>{e=new ymaps.Map("map",{center:[55.796289,49.108795],zoom:14,controls:[]});var t=[[55.780809,49.132161],[55.79142,49.133837],[55.786976,49.11333],[55.806137,49.190331]];const n=new ymaps.GeoObjectCollection({},{draggable:!1,iconLayout:"default#image",iconImageHref:"images/marker.svg",iconImageSize:[46,57],iconImageOffset:[-35,-52]});for(let e=0;e<t.length;e++)n.add(new ymaps.Placemark(t[e]));e.geoObjects.add(n),e.behaviors.disable("scrollZoom")})}(),$(".form").submit(e=>{e.preventDefault();const t=$(e.currentTarget),n=t.find("[name='name']"),a=t.find("[name='phone']"),o=t.find("[name='comment']"),r=t.find("[name='to']"),s=$("#modal"),i=s.find(".modal__content");if(i.removeClass("error-content"),e=t,[n,a,o,r].forEach(e=>{e.removeClass("error"),""===e.val().trim()&&e.addClass("error")}),0===e.find(".error").length){const c=$.ajax({url:"https://webdev-api.loftschool.com/sendmail",method:"post",data:{name:n.val(),phone:a.val(),comment:o.val(),to:r.val()}});c.done(e=>{i.text(e.message)}),c.fail(e=>{e=e.responseJSON.message;i.text(e),i.addClass("error-content")}),c.always(()=>{$.fancybox.open({src:"#modal",type:"inline"});for(var e=document.querySelectorAll("input[type=text]"),t=document.querySelector("textarea[name = comment]"),n=0;n<e.length;n++)e[n].value="";t.value=""})}}),$(".js-submit-btn").click(e=>{e.preventDefault(),$.fancybox.close()}),function(){const o=$(".section"),n=$(".maincontent"),e=new MobileDetect(window.navigator.userAgent);var t=e.mobile(),r=!1;o.first().addClass("active-section");const s=a=>{if(0==r){r=!0;var e=-100*a;const t=$(".fixed-menu__item");n.css({transform:`translateY(${e}%)`}),o.eq(a).addClass("active-section").siblings().removeClass("active-section"),t.eq(a).addClass("fixed-menu__item--active").siblings().removeClass("fixed-menu__item--active"),setTimeout(()=>{r=!1;const e=o.eq(a);var t=e.attr("data-side-menu-theme");const n=$(".fixed-menu__list");"black"==t?n.addClass("fixed__item-black"):n.removeClass("fixed__item-black")},1e3)}},a=e=>{const t=o.filter(".active-section"),n=t.next(),a=t.prev();"next"==e&&n.length&&s(n.index()),"prev"==e&&a.length&&s(a.index())};$(window).on("wheel",e=>{e=e.originalEvent.deltaY;0<e&&a("next"),e<0&&a("prev")}),$(window).on("keydown",e=>{var t=e.target.tagName.toLowerCase();if("input"!==t&&"textarea"!==t)switch(e.keyCode){case 38:a("prev");break;case 40:a("next")}}),$("[data-scroll-to]").click(e=>{e.preventDefault();const t=$(e.currentTarget);e=t.attr("data-scroll-to");const n=$(`[data-section-id=${e}]`);s(n.index())}),$(".wrapper").on("touchmove",e=>e.preventDefault()),t&&$("body").swipe({swipe:function(e,t){let n="down"==t?"prev":"up"==t?"next":"";a(n)}})}(),function(){const t=$(".player");var a=document.getElementsByTagName("video")[0],e=document.getElementById("volume");a.addEventListener("canplaythrough",function(){a.volume=e.value},!1),$(".player__start").click(e=>{e.preventDefault(),a.paused?(t.addClass("player--active"),t.removeClass("player--paused"),a.play()):(t.addClass("player--paused"),t.removeClass("player--active"),a.pause())}),e.addEventListener("input",function(){a.volume=e.value},!1),$(".player__splash").click(e=>{t.addClass("player--active"),t.removeClass("player--paused"),a.play()}),$(".player__playback").click(e=>{const t=$(e.currentTarget);var n=e.originalEvent.layerX/t.width()*100,e=a.duration/100*n;$(".player__playback-button").css({left:`${n}%`}),a.currentTime=e}),a.addEventListener("timeupdate",function(){var e=a.currentTime/a.duration*100;$(".player__playback-button").css({left:`${e}%`})})}(),function(){const a=e=>{const t=e.find(".products-menu__item"),n=e.find(".products-menu__content");e=$(window).width();t.removeClass("opened"),480<e||t.css({position:"relative",right:"0","z-index":"0"}),n.width(0)},o=e=>{const t=e.find(".products-menu__content");var n=$(window).width(),a=(e=>{let t=0;var n=$(window).width();const a=e.closest(".products__menu"),o=a.find(".products-menu__title");var r=o.width()*o.length;const s=e.find(".products-menu__container");var i=parseInt(s.css("padding-left")),e=parseInt(s.css("padding-right"));return t=768<n?520:480<n?n-r:n-o.width(),{container:t,textContainer:t-i-e}})(e);const o=e.find(".products-menu__container");e.addClass("opened"),480<n||e.css({position:"absolute",right:"0","z-index":"5",height:"100%"}),t.width(a.container),o.width(a.textContainer)};$(".products-menu__title").on("click",e=>{e.preventDefault();const t=$(e.currentTarget),n=t.closest(".products-menu__item");e=n.closest(".products__menu");n.hasClass("opened")?a(e):(a(e),o(n))}),$(".close-element").on("click",e=>{e.preventDefault();const t=$(e.currentTarget),n=t.closest(".products-menu__item");e=n.closest(".products__menu");a(e)})}(),function(){const t=$(".product__list").bxSlider({pager:!1,controls:!1});$(".arrow-left").click(e=>{e.preventDefault(),t.goToPrevSlide()}),$(".arrow-right").click(e=>{e.preventDefault(),t.goToNextSlide()})}(),$(".interactive-avatar__link").click(e=>{e.preventDefault();const t=$(e.currentTarget);var n,e=t.attr("data-link");const a=(n=e,$(".reviews__item").filter((e,t)=>$(t).attr("data-linked")===n)),o=t.closest(".interactive-avatar");a.addClass("reviews__item-active").siblings().removeClass("reviews__item-active"),o.addClass("interactive-avatar--active").siblings().removeClass("interactive-avatar--active")}),function(){const a=e=>{const t=e.find(".team__content"),n=e.find(".team__item"),a=n.find(".arrow");a.css({"border-top-color":"#365A49","border-top-width":"7px","border-bottom-width":"0","border-bottom-color":"transparent"}),n.removeClass("active"),t.height(0)};$(".team__title").click(e=>{const t=$(e.currentTarget);e=t.closest(".team");const n=t.closest(".team__item");n.hasClass("active")?a(e):(a(e),(e=>{const t=e.closest(".team__item"),n=t.find(".team__content"),a=n.find(".team__content-block");e=a.height();const o=t.find(".arrow");o.css({"border-top-color":"transparent","border-top-width":"0","border-bottom-width":"7px","border-bottom-color":"#365A49"}),t.addClass("active"),n.height(e)})(t))})}();